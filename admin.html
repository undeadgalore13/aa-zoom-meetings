<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Access Required</title>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica, sans-serif;
        background: #0f0f0f;
        color: #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
    }

    .container {
        text-align: center;
        max-width: 420px;
        width: 90%;
        padding: 30px;
        border-radius: 10px;
        background: #1a1a1a;
        box-shadow: 0 0 15px rgba(0,0,0,0.6);
    }

    h1 {
        margin-bottom: 20px;
        font-size: 1.6em;
    }

    input {
        width: 100%;
        padding: 14px;
        font-size: 1.1em;
        margin-bottom: 15px;
        border-radius: 6px;
        border: none;
        outline: none;
        text-align: center;
        letter-spacing: 3px;
    }

    button {
        padding: 14px 20px;
        font-size: 1em;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background: #2e7dff;
        color: #fff;
        margin: 10px 0;
        width: 100%;
    }

    button:hover {
        background: #1e5fd1;
    }

    .message {
        margin-top: 15px;
        color: #ff5c5c;
        font-size: 0.95em;
    }

    .links {
        display: none;
        margin-top: 20px;
    }

    .links button {
        background: #28a745;
    }

    .links button:hover {
        background: #1e7e34;
    }
</style>
</head>

<body>

<div class="container">
    <h1>Protected Access</h1>

    <div id="password-area">
        <input
            type="password"
            id="passwordInput"
            inputmode="numeric"
            pattern="[0-9]*"
            maxlength="6"
            autocomplete="off"
            placeholder="Enter password"
        >
        <button onclick="checkPassword()">Submit</button>
        <div class="message" id="message"></div>
    </div>

    <div class="links" id="links">
        <button id="trackerBtn">Meeting Tracker</button>
        <button id="timeslotBtn">24 Hour Timeslot</button>
    </div>
</div>

<script>
    /* ==========================
       OBFUSCATION HELPERS
    ========================== */
    const decode = (str) => atob(str);
    const reverse = (str) => str.split("").reverse().join("");

    /* ==========================
       OBFUSCATED DATA
    ========================== */

    // Real password: 122625
    const pw = "NTI2MjIx"; // base64 of reversed password

    const trackerURL =
        "aHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvZS8yUEFDWC0xdlllWkFBNHNOTkJyS18xYjhGWGlkcGhPUjNud1dRTTB4QkwzQTEzZFRqRzFwdXVoaDlyWFhoemFpWW9iNENzeExmYXI1UkdKN1dpRXFSMC9wdWJodG1sP2dpZD0wJnNpbmdsZT10cnVl";

    const timeslotURL =
        "aHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvZS8yUEFDWC0xdlllWkFBNHNOTkJyS18xYjhGWGlkcGhPUjNud1dRTTB4QkwzQTEzZFRqRzFwdXVoaDlyWFhoemFpWW9iNENzeExmYXI1UkdKN1dpRXFSMC9wdWJodG1sP2dpZD0xMTMzNDUwNjU2JnNpbmdsZT10cnVl";

    let attempts = 0;
    const correctPassword = reverse(decode(pw));

    /* ==========================
       PASSWORD CHECK
    ========================== */
    function checkPassword() {
        const inputEl = document.getElementById("passwordInput");
        const message = document.getElementById("message");

        // Force numeric only (even pasted)
        inputEl.value = inputEl.value.replace(/\D/g, '');

        if (inputEl.value === correctPassword) {
            document.getElementById("password-area").style.display = "none";
            document.getElementById("links").style.display = "block";

            document.getElementById("trackerBtn").onclick = () => {
                window.location.href = decode(trackerURL);
            };

            document.getElementById("timeslotBtn").onclick = () => {
                window.location.href = decode(timeslotURL);
            };
            return;
        }

        attempts++;

        if (attempts === 1) {
            message.textContent = "incorrect response; two more attempts";
        } else if (attempts === 2) {
            message.textContent = "incorrect response; last attempt";
        } else {
            message.textContent =
                "incorrect response entered. maximum attempts reached, returning to landing page";

            setTimeout(() => {
                window.location.href =
                    "https://undeadgalore13.github.io/aa-zoom-meetings/";
            }, 2000);
        }

        inputEl.value = "";
        inputEl.focus();
    }

    /* ==========================
       AUTO-FOCUS ON LOAD
    ========================== */
    window.onload = () => {
        document.getElementById("passwordInput").focus();
    };
</script>

</body>
</html>
