<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Protected Access</title>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica, sans-serif;
        background: #0f0f0f;
        color: #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
    }

    .container {
        text-align: center;
        max-width: 400px;
        width: 90%;
        padding: 30px;
        border-radius: 10px;
        background: #1a1a1a;
        box-shadow: 0 0 15px rgba(0,0,0,0.6);
    }

    h1 {
        margin-bottom: 20px;
        font-size: 1.6em;
    }

    .pin-input {
        display: flex;
        justify-content: space-between;
        margin: 20px 0;
    }

    .pin-input input {
        width: 40px;
        height: 50px;
        font-size: 2em;
        text-align: center;
        border-radius: 6px;
        border: 2px solid #555;
        background: #111;
        color: #fff;
        outline: none;
        -webkit-text-security: disc;
        text-security: disc;
    }

    .pin-input.shake {
        animation: shake 0.4s;
    }

    @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-6px); }
        50% { transform: translateX(6px); }
        75% { transform: translateX(-6px); }
        100% { transform: translateX(0); }
    }

    .message {
        color: #ff5c5c;
        font-size: 0.95em;
        margin-top: 10px;
    }

    .links {
        display: none;
        margin-top: 20px;
    }

    .links button {
        padding: 14px 20px;
        font-size: 1em;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background: #28a745;
        color: #fff;
        margin: 10px 0;
        width: 100%;
    }

    .links button:hover {
        background: #1e7e34;
    }
</style>
</head>

<body>
<div class="container">
    <h1>Protected Access</h1>

    <div id="password-area">
        <div class="pin-input" id="pinContainer">
            <input type="tel" inputmode="numeric" maxlength="1" autocomplete="off">
            <input type="tel" inputmode="numeric" maxlength="1" autocomplete="off">
            <input type="tel" inputmode="numeric" maxlength="1" autocomplete="off">
            <input type="tel" inputmode="numeric" maxlength="1" autocomplete="off">
            <input type="tel" inputmode="numeric" maxlength="1" autocomplete="off">
            <input type="tel" inputmode="numeric" maxlength="1" autocomplete="off">
        </div>
        <div class="message" id="message"></div>
    </div>

    <div class="links" id="links">
        <button onclick="location.href='https://docs.google.com/spreadsheets/d/e/2PACX-1vQeZAA4sNNBrK_1b8FXidphOR3nwWQM0xBL3A13dTjG1puuhh9xrXhzaiYob4CsxLfar5RGJ7WiEqR0/pubhtml?gid=0&single=true'">
            Meeting Tracker
        </button>

        <button onclick="location.href='https://docs.google.com/spreadsheets/d/e/2PACX-1vQeZAA4sNNBrK_1b8FXidphOR3nwWQM0xBL3A13dTjG1puuhh9xrXhzaiYob4CsxLfar5RGJ7WiEqR0/pubhtml?gid=1133450656&single=true'">
            24 Hour Timeslot
        </button>
    </div>
</div>

<script>
    const correctPassword = "122625";
    let attempts = 0;

    const inputs = document.querySelectorAll('.pin-input input');
    const message = document.getElementById('message');
    const pinContainer = document.getElementById('pinContainer');

    function getPIN() {
        return Array.from(inputs).map(i => i.value).join('');
    }

    function clearPIN() {
        inputs.forEach(i => i.value = '');
        inputs[0].focus();
    }

    inputs.forEach((input, idx) => {
        input.addEventListener('input', () => {
            input.value = input.value.replace(/\D/g, '');
            if (input.value && idx < inputs.length - 1) {
                inputs[idx + 1].focus();
            }
            if (getPIN().length === 6) checkPassword();
        });

        input.addEventListener('keydown', e => {
            if (e.key === "Backspace" && !input.value && idx > 0) {
                inputs[idx - 1].focus();
            }
        });
    });

    function checkPassword() {
        if (getPIN() === correctPassword) {
            document.getElementById('password-area').style.display = 'none';
            document.getElementById('links').style.display = 'block';
            return;
        }

        attempts++;
        pinContainer.classList.add('shake');
        setTimeout(() => pinContainer.classList.remove('shake'), 400);

        if (attempts === 1) {
            message.textContent = "incorrect response; two more attempts";
        } else if (attempts === 2) {
            message.textContent = "incorrect response; last attempt";
        } else {
            message.textContent =
                "incorrect response entered. maximum attempts reached, returning to landing page";
            setTimeout(() => {
                window.location.href = "https://undeadgalore13.github.io/aa-zoom-meetings/";
            }, 2000);
        }

        clearPIN();
    }

    window.onload = () => inputs[0].focus();
</script>

</body>
</html>
